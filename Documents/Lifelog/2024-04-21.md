フルスタックWEB開発　手順
- Docker desktopをDL
	- dockerコマンドのインストールは不要

- 作業用ディレクトリを作成
- docker-compose.ymlを作成
	- mysql8のイメージを使うコンテナ
		- typoに注意
- mysql workbenchをダウンロード
	- M1チップはarm64
- dockerのコンテナ上で立ち上げたMySQLとワークベンチをコネクトする
	- ワークベンチ上でsqlを実行できる。
	- appというDBスキーマを作成する。
- VSCode上で操作
- フロントエンド側の設定
	- mkdkir -p ~/fullstack-web/app/frontend ~/fullstack-web/app/backend
	- cd ~/fullstack-web/app/frontend
	- code .
	- コマンドパレットを開く
	- Dev Container: Add Container Config file
	- Add to workspaces -> Node.jsを選択
		- フロントエンドのコンテナが作成される（dockerの操作をVSCodeから行った）
	- yarn create next-app frontend --ts --eslint
	- yarn devで実行
	- .vscode/と.gitignoreに追加
	- next.config.jsの設定
		- なんでかnext.config.mjsが作成されてたが、どちらでも良さそうなのでnext.config.jsに修正
		- https://nextjs-ja-translation-docs.vercel.app/docs/api-reference/next.config.js/introduction
		- api/hogehoge~へのリクエストを、http://host.docker.internal:8000/api/hogehoge~に飛ばす。
```js
module.exports = {
	async rewrites() {
		return [
			{
				source: '/api/:path*', 
				destination: 'http://host.docker.internal:8000/api/:path*/',
			},
		]
	},
}		  
```

- バックエンドの設定
	- 同様にPython3のコンテナを作成
	- Djangoをインストール
		- echo -e 'djangorestframework\nmysqlclient' > requirements.txt
		- pip install -r requirements.txt
		- pip freeze > requirements.lock
	- devcontainer.jsonのpostCreateCommandのコメントアウトを外す
		- コンテナ立ち上げ時にコマンドを実行
	- Djangoプロジェクトの設定
		- django-admin startproject config .
		- echo '__ pycache__' > .gitignore
		- 今回は単体テスト環境の構築を目指す。
			- config/settings/development.py
			- base.pyという共通ファイルには、本来単体テスト環境だけでなく結合テスト環境やステージング環境でも共通のタイムゾーンや言語などを記述していく。
			- mkdir config/settings
			- mv config/settings.py config/settings/base.py
			- echo 'from .base import \*' > config/settings/development.py
		- development.pyにデータベース情報を記述していく
``` python
DATABASE = {
	'default': {
		'ENGINE': 'django.db.backends.mysql',
		'NAME': 'app',
		'USER': 'root',
		'PASSWORD': 'password',
		'HOST': 'host.docker.internal',
		'PORT': '53306',
		'ATOMIC_REQUEST': True
	}
}
```
